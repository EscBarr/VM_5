## Курсовой проект в рамках прохождения дисциплины «Архитектура вычислительных систем. Операционные системы». Виртуальная машина VM5
### Двухадресная, с Регистрами Общего Назначения, один операнд в регистре, а также базовая реализация комманд ассемблера для машины с данной архитектурой
* PSW = IP + Flags, 16+16 = 32 бит.
* Память – байтовая, объединяются в 2 и 4 байта. Размер адреса – 16 бит.
### Данные:
* Короткие целые знаковые, беззнаковые – 2 байта
* Длинные целые знаковые, беззнаковые – 4 байта
* Дробные – 4 байта
* РОН – 8 штук, 16 бит; содержимое – короткое целое со знаком, короткое целое без знака (адрес)
* Они же – 4 регистра для длинных целых по 32 бита, номера – четные
* Они же – 4 регистра с плавающей точкой по 32 бита, номера – четные.
### Структура команд: 2 байта, 4 байта; результат по первому
* 16 бит: КОП – 7 бит, s – 1 бит, r1 – 4 бита, r2 – 4 бита
* 32 бита: КОП – 7 бит, s – 1 бит, r1 – 4 бита, r2 – 4 бита, оff – 16 бит
* s – размер целого операнда
* s = 0 – 2 байта
* s = 1 – 4 байта
* Адрес = регистр + смещение (если регистр используется)
* Адрес = смещение (если регистр не используется)
* Смещение = адрес = константа в команде
* Особые случаи: s=1, номер регистра – нечетный
* Наличие или отсутствие смещения определяется кодом операции.
* Это формат пересылок, арифметики целой, арифметики дробной;
### Пересылка:
* Регистр-регистр, Регистр-память, Память-регистр
* арифметика дробная, арифметика целая – то же самое
### Переходы: формат 16 бит
* Безусловный (использование бита s – нестандартное)
* – s = 0: прямой, IP = адрес
* – s = 1: относительный, IP = IP + адрес
* Безусловный косвенный.
* Условный — то же самое, только проверяются флаги
* Вызов подпрограммы: адрес возврата запоминается в r1
* Возврат – безусловный прямой переход
* Если регистр в команде не используется, то можно использовать для дополнительных кодов операций!
